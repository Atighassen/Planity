{"id":"index.html","dependencies":[{"name":"_css_loader","parent":"/project/Planity/index.html","resolved":"/project/Planity/node_modules/parcel-bundler/src/builtins/css-loader.js"},{"name":"/project/Planity/package.json","includedInParent":true,"mtime":1673375492878}],"generated":{"html":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>Parcel Sandbox</title>\n    <meta charset=\"UTF-8\">\n    <style>#calendar-container {\n        position: relative;\n      }\n      .calendar-event {\n        position: absolute;\n        border: 1px solid #000;\n      }</style>\n  </head>\n\n  <body>\n    <div id=\"calendar-container\"></div>\n    <script>// the array of events to render on the calendar\nvar events = [{\n  id: 1,\n  start: \"09:00\",\n  duration: 60\n}, {\n  id: 2,\n  start: \"11:00\",\n  duration: 120\n}, {\n  id: 3,\n  start: \"11:00\",\n  duration: 60\n}, {\n  id: 4,\n  start: \"14:00\",\n  duration: 60\n}, {\n  id: 5,\n  start: \"14:30\",\n  duration: 120\n}, {\n  id: 6,\n  start: \"16:00\",\n  duration: 60\n}];\nfunction renderCalendar(events) {\n  var containerHeight = window.screen.height; // the height of the container in pixels\n  var startTime = 9 * 60; // the start time of the calendar in minutes (9:00 am)\n  var endTime = 21 * 60; // the end time of the calendar in minutes (9:00 pm)\n\n  // convert the events to an array of objects with start and end times in pixels\n  var eventElements = events.map(function (event) {\n    var start = (event.start.split(\":\")[0] * 60 + parseInt(event.start.split(\":\")[1]) - startTime) / (endTime - startTime) * containerHeight;\n    var end = start + event.duration / (endTime - startTime) * containerHeight;\n    return {\n      start: start,\n      end: end,\n      event: event\n    };\n  });\n\n  // sort the events by start time\n  eventElements.sort(function (a, b) {\n    return a.start - b.start;\n  });\n  var eventCalculated = {};\n\n  // calculate the overlapping events\n  eventElements.forEach(function (event, index) {\n    var overlaps = [];\n    for (var i = 0; i < eventElements.length; i++) {\n      // event.end < eventElements[i].start\n      if (event.event.id != eventElements[i].event.id && event.end > eventElements[i].start && event.start < eventElements[i].end) {\n        overlaps.push(eventElements[i]);\n        eventCalculated[eventElements[i].event.id] = true;\n      }\n    }\n    event.overlaps = overlaps;\n  });\n  return eventElements;\n}\nfunction removeAllChildNodes(parent) {\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n}\nfunction renderEvents(eventElements) {\n  var container = document.getElementById(\"calendar-container\");\n  container.style.height = window.screen.height;\n  var insertElement = {};\n  eventElements.forEach(function (event) {\n    var div = document.createElement(\"div\");\n    if (!insertElement[event.event.id]) {\n      if (event.overlaps.length != 0) {\n        insertElement[event.event.id] = true;\n        div.style.whiteSpace = \"nowrap\";\n        div.style.position = \"absolute\";\n        div.style.width = \"100%\";\n        var divChild = document.createElement(\"div\");\n        divChild.style.display = \"inline-block\";\n        divChild.style.marginTop = \"\".concat(event.start, \"px\");\n        divChild.style.height = \"\".concat(event.end - event.start, \"px\");\n        divChild.style.width = \"\".concat(100 / (event.overlaps.length + 1), \"%\");\n        divChild.style.backgroundColor = \"#ccc\";\n        divChild.style.border = \"1px solid #000\";\n        divChild.innerHTML = event.event.id;\n        div.appendChild(divChild);\n        event.overlaps.forEach(function (overlap) {\n          if (!insertElement[overlap.event.id]) {\n            insertElement[overlap.event.id] = true;\n            var _divChild = document.createElement(\"div\");\n            _divChild.style.display = \"inline-block\";\n            _divChild.style.verticalAlign = \"top\";\n            _divChild.style.marginTop = \"\".concat(overlap.start, \"px\");\n            _divChild.style.height = \"\".concat(overlap.end - overlap.start, \"px\");\n            _divChild.style.width = \"\".concat(100 / (event.overlaps.length + 1), \"%\");\n            _divChild.style.backgroundColor = \"#ccc\";\n            _divChild.style.border = \"1px solid #000\";\n            _divChild.innerHTML = overlap.event.id;\n            div.appendChild(_divChild);\n          }\n        });\n      } else {\n        var test = eventElements.filter(function (e) {\n          return e.overlaps.length > 0;\n        });\n        div.style.position = \"absolute\";\n        div.style.marginTop = \"\".concat(event.start, \"px\");\n        div.style.height = \"\".concat(event.end - event.start, \"px\");\n        div.style.width = \"\".concat(100 / (event.overlaps.length + 1), \"%\");\n        div.style.backgroundColor = \"#ccc\";\n        div.style.border = \"1px solid #000\";\n        div.innerHTML = event.event.id;\n      }\n      container.appendChild(div);\n    }\n  });\n}\nwindow.addEventListener(\"resize\", function () {\n  var container = document.querySelector(\"#calendar-container\");\n  removeAllChildNodes(container);\n  var eventElements = renderCalendar(events);\n  renderEvents(eventElements);\n});\n\n// render the calendar initially\nvar eventElements = renderCalendar(events);\nrenderEvents(eventElements);</script>\n  </body>\n</html>\n"},"sourceMaps":null,"error":null,"hash":"560eec21a366711d4a64cd793da1d9ff","cacheData":{"env":{}}}